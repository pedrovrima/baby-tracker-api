(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{64:function(e,t,n){},65:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t),n.d(t,"client",(function(){return O}));var r=n(9),c=n(40),i=n(38),o=n(4),a=n(54),s=n.n(a);n(64),n.p,n(65);var u=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,82)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),i(e),o(e)}))},l=n(55),p=n(1),b=n(16);function d(){var e=Object(i.a)(["\n  subscription Sub {\n    sleepChanged{\n      time,type}\n\n  \n    }\n  \n"]);return d=function(){return e},e}function j(){var e=Object(i.a)(["\n  query getSleep {\n    sleeps {\n      time\n      type\n    }\n  }\n"]);return j=function(){return e},e}var f=new b.HttpLink({uri:"http://localhost:4000/graphql"}),g=new l.a({uri:"ws://localhost:4000/graphql"}),h=Object(b.split)((function(e){var t=e.query,n=Object(p.q)(t);return"OperationDefinition"===n.kind&&"subscription"===n.operation}),g,f),O=new b.ApolloClient({cache:new b.InMemoryCache,link:b.ApolloLink.from([h])}),m=Object(b.gql)(j()),y=Object(b.gql)(d()),v=Object(b.gql)("\nmutation  createSleep($time:DateTime!, $type:String!){\n        createSleep(time:$time,  type:$type){\n   time\n}}");function w(e){var t=e.getMinutes(),n=e.getHours();return"".concat(n,":").concat(t>9?"":"0").concat(t)}function q(){var e=Object(b.useSubscription)(y),t=Object(b.useQuery)(m),n=t.loading,i=t.error,a=t.data,s=Object(b.useMutation)(v),u=Object(c.a)(s,2),l=u[0],p=(u[1].slp_data,Object(o.useState)({type:""})),d=Object(c.a)(p,2),j=d[0],f=d[1];return Object(o.useEffect)((function(){n||(e.data?f(e.data.sleepChanged):f(a.sleeps[a.sleeps.length-1]))}),[a,e.data]),n?Object(r.jsx)("p",{children:"Loading..."}):i?Object(r.jsx)("p",{children:"Error :("}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{onClick:function(){l({variables:{time:Date.now(),type:"start"===j.type?"end":"start"}})},children:"start"===j.type?"Acordou":"Dormiu"}),j.type?Object(r.jsxs)("p",{children:[" ","start"===j.type?"Dormindo":"Acordada"," desde as ",w(new Date(j.time))]}):"","    "]})}console.log("here"),s.a.render(Object(r.jsx)(b.ApolloProvider,{client:O,children:Object(r.jsx)(q,{})}),document.getElementById("root")),u()}},[[81,1,2]]]);
//# sourceMappingURL=main.e1e728d3.chunk.js.map